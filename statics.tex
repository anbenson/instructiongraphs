\documentclass[12pt]{article}

\usepackage{mathpartir}
\usepackage{amsmath}

\title{Instruction Graph Statics}
\author{Andrew Benson}
\date{}

\begin{document}
\maketitle

% Define commands for common syntax and judgments
\newcommand{\nonterm}[1]{\langle\text{#1}\rangle}
\newcommand{\term}[1]{\textbf{#1}}

\newcommand{\valid}[1]{\mathtt{#1}\ \textit{valid}}
\newcommand{\defined}[2]{\mathtt{(#1,\ #2)}\ \textit{defined}}
\newcommand{\match}[3]{\mathtt{(#1,\ #2,\ #3)}\ \textit{match}}
\newcommand{\connected}[4]{\mathtt{(#1,\ #2,\ #3,\ #4)}\ \textit{connected}}

\newcommand{\singletonset}[1]{\{\mathtt{#1}\}}
\newcommand{\mem}[2]{\mathtt{#1 \in #2}}
\newcommand{\notmem}[2]{\mathtt{#1 \notin #2}}

\section{Validity}

\begin{mathpar}
  \inferrule{
  }{
    \valid{\emptyset}
  }

  \inferrule{
    \defined{vs}{U}\\
    \connected{vs}{\emptyset}{s}{U}
  }{
    \valid{\term{P}(vs, s)}
  }
\end{mathpar}

\section{Defined}

\begin{mathpar}
  \inferrule{
  }{
    \defined{\term{S}(\term{V}(n, cont))}{\singletonset{n}}
  }

  \inferrule{
    \defined{vs}{U}\\
    \notmem{n}{U}
  }{
    \defined{\term{Cons}(\term{V}(n, cont), vs)}{U \cup \singletonset{n}}
  }
\end{mathpar}

\section{Match}

\begin{mathpar}
  \inferrule{
  }{
    \match{\term{S}(\term{V}(n, cont))}{n}{\term{V}(n, cont)}
  }

  \inferrule{
    \match{vs}{n}{\term{V}(n, cont)}
  }{
    \match{\term{Cons}(v, vs)}{n}{\term{V}(n, cont)}
  }

  \inferrule{
  }{
    \match{\term{Cons}(\term{V}(n, cont), vs)}{n}{\term{V}(n, cont)}
  }
\end{mathpar}

\section{Connected}

\begin{mathpar}
  \inferrule{
    \mem{n}{U_v}
  }{
    \connected{vs}{U_v}{n}{\emptyset}
  }

  \inferrule{
    \match{vs}{n}{\term{V}(n, \term{End})}\\
    \notmem{n}{U_v}
  }{
    \connected{vs}{U_v}{n}{\singletonset{n}}
  }

  \inferrule{
    \match{vs}{n}{\term{V}(n, \term{Do}(act, n'))}\\
    \connected{vs}{U_v \cup \singletonset{n}}{n'}{U}\\
    \notmem{n}{U_v}
  }{
    \connected{vs}{U_v}{n}{U \cup \singletonset{n}}
  }

  \inferrule{
    \match{vs}{n}{\term{V}(n, \term{DoU}(act, cond, n'))}\\
    \connected{vs}{U_v \cup \singletonset{n}}{n'}{U}\\
    \notmem{n}{U_v}
  }{
    \connected{vs}{U_v}{n}{U \cup \singletonset{n}}
  }

  \inferrule{
    \match{vs}{n}{\term{V}(n, \term{Cond}(cond, n', n''))}\\
    \connected{vs}{U_v \cup \singletonset{n}}{n'}{U}\\
    \connected{vs}{U_v \cup U \cup \singletonset{n}}{n''}{U'}\\
    \notmem{n}{U_v}
  }{
    \connected{vs}{U_v}{n}{U \cup U' \cup \singletonset{n}}
  }

  \inferrule{
    \match{vs}{n}{\term{V}(n, \term{GoTo}(n'))}\\
    \connected{vs}{U_v \cup \singletonset{n}}{n'}{U}\\
    \notmem{n}{U_v}
  }{
    \connected{vs}{U_v}{n}{U \cup \singletonset{n}}
  }
\end{mathpar}

\end{document}
